<%- include('../partials/head', { title: 'Log in' }) %>
<% var asRole; try { asRole = as; } catch(e) { asRole = 'jobseeker'; } if (typeof asRole === 'undefined') asRole = 'jobseeker'; %>
<body class="auth-body">
  <%- include('../partials/nav') %>
  <main class="auth-center">
    <div class="auth-card">
      <h1 class="auth-title">Log in to JobFinder</h1>
      <div class="auth-tabs">
        <a href="/login?as=jobseeker" class="auth-tab <%= asRole === 'jobseeker' ? 'active' : '' %>">Job Seeker</a>
        <a href="/login?as=employer" class="auth-tab <%= asRole === 'employer' ? 'active' : '' %>">Employer</a>
      </div>
      <% if (error) { %><p class="error"><%= error %></p><% } %>
      <form method="post" action="/login" class="auth-form">
        <label>Email <input type="email" name="email" placeholder="you@example.com" required></label>
        <label>Password <input type="password" name="password" placeholder="Password" required></label>
        <button type="submit" class="btn btn-full">Log in</button>
      </form>
      <p class="auth-switch">Don't have an account? <a href="/register?role=<%= asRole %>">Sign up</a></p>
    </div>
  </main>
</body>
</html>
